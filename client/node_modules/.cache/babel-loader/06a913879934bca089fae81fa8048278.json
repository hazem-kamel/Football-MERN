{"ast":null,"code":"import Axios from \"axios\";\nimport { fetchMatches, fetchLeagueTable, fetchTopScorers, registerNewUser, loginRequest, addComment, getComments } from \"./ActionTypes\";\nexport function fetchMatchesAction(league) {\n  var date = new Date();\n  var day = (\"0\" + date.getDate()).slice(-2);\n  var nextDays = (\"0\" + (date.getDate() + 6)).slice(-2);\n  var month = (\"0\" + (date.getMonth() + 1)).slice(-2);\n  var url = `https://api.football-data.org/v2/competitions/${league}/matches?dateFrom=2020-${month}-${day}&dateTo=2020-${month}-${nextDays}`;\n  var token = \"52c8d88969d84ac9b17edb956eea33af\";\n  var obj = {\n    headers: {\n      \"X-Auth-Token\": token\n    }\n  };\n  return dispatch => {\n    Axios.get(url, obj).then(res => {\n      dispatch({\n        type: fetchMatches,\n        payload: res.data.matches\n      });\n    }).catch(e => {\n      console.log(\"Cant fetch \", e);\n    });\n  };\n}\nexport function fetchLeagueTableAction(league) {\n  var url = `https://api.football-data.org/v2/competitions/${league}/standings`;\n  var token = \"52c8d88969d84ac9b17edb956eea33af\";\n  var obj = {\n    headers: {\n      \"X-Auth-Token\": token\n    }\n  };\n  return dispatch => {\n    Axios.get(url, obj).then(res => {\n      dispatch({\n        type: fetchLeagueTable,\n        payload: res.data\n      });\n    }).catch(e => {\n      console.log(\"Cant fetch \", e);\n    });\n  };\n}\nexport function fetchTopScorersAction(league) {\n  var url = `https://api.football-data.org/v2/competitions/${league}/scorers?limit=6`;\n  var token = \"52c8d88969d84ac9b17edb956eea33af\";\n  var obj = {\n    headers: {\n      \"X-Auth-Token\": token\n    }\n  };\n  return dispatch => {\n    Axios.get(url, obj).then(res => {\n      dispatch({\n        type: fetchTopScorers,\n        payload: res.data\n      });\n    }).catch(e => {\n      console.log(\"Cant fetch \", e);\n    });\n  };\n}\nexport function registerNewUserAction(user) {\n  return dispatch => {\n    Axios.post(\"/api/register\", {\n      username: user.username,\n      email: user.email,\n      password: user.password,\n      gender: user.gender\n    }, {\n      withCredentials: true,\n      crossdomain: true\n    }).then(res => {\n      dispatch({\n        type: registerNewUser,\n        payload: res.data\n      });\n    }).catch(e => {\n      console.log(\"Cant Register \", e);\n    });\n  };\n}\nexport function loginUserAction(user) {\n  return dispatch => {\n    Axios.post(\"/api/login\", {\n      username: user.email,\n      password: user.password\n    }, {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"Origin, X-Requested-With, Content-Type, Accept\"\n      },\n      mode: \"cors\"\n    }).then(res => {\n      dispatch({\n        type: loginRequest,\n        payload: res.data\n      });\n    }).catch(e => {\n      console.log(\"Cant Login \", e);\n    });\n  };\n}\nexport function addCommentAction(comment) {\n  return dispatch => {\n    Axios.post(\"/api/comment\", {\n      match: comment.match,\n      username: comment.username,\n      comment: comment.comment\n    }, {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"Origin, X-Requested-With, Content-Type, Accept\"\n      },\n      mode: \"cors\"\n    }).then(res => {\n      dispatch({\n        type: addComment,\n        payload: res.data\n      });\n    }).catch(err => {\n      console.log(\"Can't post comment\", err);\n    });\n  };\n}\nexport function getCommentsAction(match) {\n  return dispatch => {\n    Axios.post(\"/api/comments\", {\n      match: match\n    }, {\n      headers: {\n        \"Access-Control-Allow-Origin\": \"Origin, X-Requested-With, Content-Type, Accept\"\n      },\n      mode: \"cors\"\n    }).then(res => {\n      dispatch({\n        type: getComments,\n        payload: res.data.comments\n      });\n    }).catch(err => {\n      console.log(\"Can't post comment\", err);\n    });\n  };\n}","map":{"version":3,"sources":["/Users/hazem/Desktop/Web-Development/football/Frontend/src/Redux/actions/Actions.js"],"names":["Axios","fetchMatches","fetchLeagueTable","fetchTopScorers","registerNewUser","loginRequest","addComment","getComments","fetchMatchesAction","league","date","Date","day","getDate","slice","nextDays","month","getMonth","url","token","obj","headers","dispatch","get","then","res","type","payload","data","matches","catch","e","console","log","fetchLeagueTableAction","fetchTopScorersAction","registerNewUserAction","user","post","username","email","password","gender","withCredentials","crossdomain","loginUserAction","mode","addCommentAction","comment","match","err","getCommentsAction","comments"],"mappings":"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","sourcesContent":["import Axios from \"axios\";\nimport {\n  fetchMatches,\n  fetchLeagueTable,\n  fetchTopScorers,\n  registerNewUser,\n  loginRequest,\n  addComment,\n  getComments,\n} from \"./ActionTypes\";\n\nexport function fetchMatchesAction(league) {\n  var date = new Date();\n  var day = (\"0\" + date.getDate()).slice(-2);\n  var nextDays = (\"0\" + (date.getDate() + 6)).slice(-2);\n  var month = (\"0\" + (date.getMonth() + 1)).slice(-2);\n  var url = `https://api.football-data.org/v2/competitions/${league}/matches?dateFrom=2020-${month}-${day}&dateTo=2020-${month}-${nextDays}`;\n  var token = \"52c8d88969d84ac9b17edb956eea33af\";\n  var obj = {\n    headers: { \"X-Auth-Token\": token },\n  };\n  return (dispatch) => {\n    Axios.get(url, obj)\n      .then((res) => {\n        dispatch({\n          type: fetchMatches,\n          payload: res.data.matches,\n        });\n      })\n      .catch((e) => {\n        console.log(\"Cant fetch \", e);\n      });\n  };\n}\n\nexport function fetchLeagueTableAction(league) {\n  var url = `https://api.football-data.org/v2/competitions/${league}/standings`;\n  var token = \"52c8d88969d84ac9b17edb956eea33af\";\n  var obj = {\n    headers: { \"X-Auth-Token\": token },\n  };\n  return (dispatch) => {\n    Axios.get(url, obj)\n      .then((res) => {\n        dispatch({\n          type: fetchLeagueTable,\n          payload: res.data,\n        });\n      })\n      .catch((e) => {\n        console.log(\"Cant fetch \", e);\n      });\n  };\n}\n\nexport function fetchTopScorersAction(league) {\n  var url = `https://api.football-data.org/v2/competitions/${league}/scorers?limit=6`;\n  var token = \"52c8d88969d84ac9b17edb956eea33af\";\n  var obj = {\n    headers: { \"X-Auth-Token\": token },\n  };\n  return (dispatch) => {\n    Axios.get(url, obj)\n      .then((res) => {\n        dispatch({\n          type: fetchTopScorers,\n          payload: res.data,\n        });\n      })\n      .catch((e) => {\n        console.log(\"Cant fetch \", e);\n      });\n  };\n}\nexport function registerNewUserAction(user) {\n  return (dispatch) => {\n    Axios.post(\n      \"/api/register\",\n      {\n        username: user.username,\n        email: user.email,\n        password: user.password,\n        gender: user.gender,\n      },\n      {\n        withCredentials: true,\n        crossdomain: true,\n      }\n    )\n      .then((res) => {\n        dispatch({\n          type: registerNewUser,\n          payload: res.data,\n        });\n      })\n      .catch((e) => {\n        console.log(\"Cant Register \", e);\n      });\n  };\n}\n\nexport function loginUserAction(user) {\n  return (dispatch) => {\n    Axios.post(\n      \"/api/login\",\n\n      {\n        username: user.email,\n        password: user.password,\n      },\n      {\n        headers: {\n          \"Access-Control-Allow-Origin\":\n            \"Origin, X-Requested-With, Content-Type, Accept\",\n        },\n        mode: \"cors\",\n      }\n    )\n      .then((res) => {\n        dispatch({\n          type: loginRequest,\n          payload: res.data,\n        });\n      })\n      .catch((e) => {\n        console.log(\"Cant Login \", e);\n      });\n  };\n}\nexport function addCommentAction(comment) {\n  return (dispatch) => {\n    Axios.post(\n      \"/api/comment\",\n\n      {\n        match: comment.match,\n        username: comment.username,\n        comment: comment.comment,\n      },\n      {\n        headers: {\n          \"Access-Control-Allow-Origin\":\n            \"Origin, X-Requested-With, Content-Type, Accept\",\n        },\n        mode: \"cors\",\n      }\n    )\n      .then((res) => {\n        dispatch({\n          type: addComment,\n          payload: res.data,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Can't post comment\", err);\n      });\n  };\n}\nexport function getCommentsAction(match) {\n  return (dispatch) => {\n    Axios.post(\n      \"/api/comments\",\n      {\n        match: match,\n      },\n      {\n        headers: {\n          \"Access-Control-Allow-Origin\":\n            \"Origin, X-Requested-With, Content-Type, Accept\",\n        },\n        mode: \"cors\",\n      }\n    )\n      .then((res) => {\n        dispatch({\n          type: getComments,\n          payload: res.data.comments,\n        });\n      })\n      .catch((err) => {\n        console.log(\"Can't post comment\", err);\n      });\n  };\n}\n"]},"metadata":{},"sourceType":"module"}